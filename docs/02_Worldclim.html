<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.1.2 WorldClim | _main.utf8</title>
  <meta name="description" content="République Togolaise —<br />
Système Nationale de Surveillance des Forêts</div>" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="2.1.2 WorldClim | _main.utf8" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ogardi.github.io/SNSF-Togo" />
  <meta property="og:image" content="https://ogardi.github.io/SNSF-Togoimages/NERF-Togo.png" />
  
  <meta name="github-repo" content="ogardi/NERF-Togo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.1.2 WorldClim | _main.utf8" />
  
  
  <meta name="twitter:image" content="https://ogardi.github.io/SNSF-Togoimages/NERF-Togo.png" />

<meta name="author" content="Oliver Gardi, Fifonsi Dangbo, Sophie Dzigbod, Ditorgue Bakabima" />


<meta name="date" content="2020-06-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="01_Landsat.html"/>
<link rel="next" href="03_SRTM.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://ogardi.github.io/SNSF-Togo"><b>Manuel SNSF Togo</b><br>NRF v1.1 ( <i>en révision</i> )</a></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Préface</a></li>
<li class="chapter" data-level="1" data-path="00_introduction.html"><a href="00_introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="01_arrangements.html"><a href="01_arrangements.html"><i class="fa fa-check"></i><b>1.1</b> Arrangements institutionelles</a></li>
<li class="chapter" data-level="1.2" data-path="02_how-to.html"><a href="02_how-to.html"><i class="fa fa-check"></i><b>1.2</b> Pour commencer</a><ul>
<li class="chapter" data-level="1.2.1" data-path="02_how-to.html"><a href="02_how-to.html#travailler-avec-le-snsf"><i class="fa fa-check"></i><b>1.2.1</b> Travailler avec le SNSF</a></li>
<li class="chapter" data-level="1.2.2" data-path="03_commencer.html"><a href="03_commencer.html"><i class="fa fa-check"></i><b>1.2.2</b> Structure du répértoire</a></li>
<li class="chapter" data-level="1.2.3" data-path="03_commencer.html"><a href="03_commencer.html#creation-dun-nouveau-projet"><i class="fa fa-check"></i><b>1.2.3</b> Création d’un nouveau projet</a></li>
<li class="chapter" data-level="1.2.4" data-path="03_commencer.html"><a href="03_commencer.html#NRF-set-up.R"><i class="fa fa-check"></i><b>1.2.4</b> Définition des variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="00_STSS.html"><a href="00_STSS.html"><i class="fa fa-check"></i><b>2</b> Système de Surveillance Terrestre</a><ul>
<li class="chapter" data-level="2.1" data-path="01_Landsat.html"><a href="01_Landsat.html"><i class="fa fa-check"></i><b>2.1</b> Données de base</a><ul>
<li class="chapter" data-level="2.1.1" data-path="01_Landsat.html"><a href="01_Landsat.html#SSTS-Landsat"><i class="fa fa-check"></i><b>2.1.1</b> Images Landsat</a></li>
<li class="chapter" data-level="2.1.2" data-path="02_Worldclim.html"><a href="02_Worldclim.html"><i class="fa fa-check"></i><b>2.1.2</b> WorldClim</a></li>
<li class="chapter" data-level="2.1.3" data-path="03_SRTM.html"><a href="03_SRTM.html"><i class="fa fa-check"></i><b>2.1.3</b> SRTM</a></li>
<li class="chapter" data-level="2.1.4" data-path="04_SoilGrids.html"><a href="04_SoilGrids.html"><i class="fa fa-check"></i><b>2.1.4</b> SoilGrids</a></li>
<li class="chapter" data-level="2.1.5" data-path="05_ProREDD.html"><a href="05_ProREDD.html"><i class="fa fa-check"></i><b>2.1.5</b> ProREDD</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="01_sampling-grid.html"><a href="01_sampling-grid.html"><i class="fa fa-check"></i><b>2.2</b> Collecte des données</a><ul>
<li class="chapter" data-level="2.2.1" data-path="01_sampling-grid.html"><a href="01_sampling-grid.html#reseau-dechantillonnage"><i class="fa fa-check"></i><b>2.2.1</b> Réseau d’échantillonnage</a></li>
<li class="chapter" data-level="2.2.2" data-path="02_training-plots.html"><a href="02_training-plots.html"><i class="fa fa-check"></i><b>2.2.2</b> Parcelles d’entraînement</a></li>
<li class="chapter" data-level="2.2.3" data-path="03_validation-plots.html"><a href="03_validation-plots.html"><i class="fa fa-check"></i><b>2.2.3</b> Parcelles de validation</a></li>
<li class="chapter" data-level="2.2.4" data-path="04_outil-QGIS.html"><a href="04_outil-QGIS.html"><i class="fa fa-check"></i><b>2.2.4</b> Outil QGIS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="00_IFN.html"><a href="00_IFN.html"><i class="fa fa-check"></i><b>3</b> Inventaire Forestier National</a><ul>
<li class="chapter" data-level="3.1" data-path="01_IFN-1.html"><a href="01_IFN-1.html"><i class="fa fa-check"></i><b>3.1</b> IFN-1 (2015/16)</a><ul>
<li class="chapter" data-level="3.1.1" data-path="01_IFN-1.html"><a href="01_IFN-1.html#methode"><i class="fa fa-check"></i><b>3.1.1</b> <span>Méthode</span></a></li>
<li class="chapter" data-level="3.1.2" data-path="01_IFN-1.html"><a href="01_IFN-1.html#donnees"><i class="fa fa-check"></i><b>3.1.2</b> Données</a></li>
<li class="chapter" data-level="3.1.3" data-path="01_IFN-1.html"><a href="01_IFN-1.html#resultats"><i class="fa fa-check"></i><b>3.1.3</b> <span>Résultats</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="00_NRF-MRV.html"><a href="00_NRF-MRV.html"><i class="fa fa-check"></i><b>4</b> Analyses NRF/MRV</a><ul>
<li class="chapter" data-level="4.1" data-path="00_analyse-FCC.html"><a href="00_analyse-FCC.html"><i class="fa fa-check"></i><b>4.1</b> Analyse surfaces forestiers</a><ul>
<li class="chapter" data-level="4.1.1" data-path="01_create-FC-maps.html"><a href="01_create-FC-maps.html"><i class="fa fa-check"></i><b>4.1.1</b> Production des cartes Forêt/Non-Forêt</a></li>
<li class="chapter" data-level="4.1.2" data-path="02_clean-FC-maps.html"><a href="02_clean-FC-maps.html"><i class="fa fa-check"></i><b>4.1.2</b> Nettoyage des cartes brutes</a></li>
<li class="chapter" data-level="4.1.3" data-path="03_validate-FC-maps.html"><a href="03_validate-FC-maps.html"><i class="fa fa-check"></i><b>4.1.3</b> Validation des cartes</a></li>
<li class="chapter" data-level="4.1.4" data-path="04_FC-maps-accuracy.html"><a href="04_FC-maps-accuracy.html"><i class="fa fa-check"></i><b>4.1.4</b> Analyse de la précision</a></li>
<li class="chapter" data-level="4.1.5" data-path="05_analyse-FC-maps.html"><a href="05_analyse-FC-maps.html"><i class="fa fa-check"></i><b>4.1.5</b> Analyse des cartes</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="00_analyse-AGB.html"><a href="00_analyse-AGB.html"><i class="fa fa-check"></i><b>4.2</b> Analyse biomasse aérienne</a><ul>
<li class="chapter" data-level="4.2.1" data-path="01_compile-IFN.html"><a href="01_compile-IFN.html"><i class="fa fa-check"></i><b>4.2.1</b> Analyse des données IFN</a></li>
<li class="chapter" data-level="4.2.2" data-path="02_create-AGB-maps.html"><a href="02_create-AGB-maps.html"><i class="fa fa-check"></i><b>4.2.2</b> Calibration et prédiction</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="00_analyse-ER.html"><a href="00_analyse-ER.html"><i class="fa fa-check"></i><b>4.3</b> Analyse émissions/séquestrations</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/ogardi/SNSF-Togo">Dépôt du code sur GitHub</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><div class="line-block">République Togolaise —<br />
Système Nationale de Surveillance des Forêts</div></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="SSTS-Worldclim" class="section level3">
<h3><span class="header-section-number">2.1.2</span> WorldClim</h3>
<p>Les variables climatiques ont une grande influence sur les caractéristiques des forêts. Ils sont donc importants pour l’évaluation des surfaces forestières et de la biomasse sur la base d’images satellitaires. Les données climatiques de WorldClim version 2 ont servi comme base. <strong>La température annuelle moyenne (BIO1), la saisonnalité de la température (BIO4), la précipitation annuelle (BIO12) et la saisonnalité de la précipitation (BIO15) étant identifiées comme les variables WorldClim les plus importantes pour l’évaluation des forêts.</strong></p>
<div id="acquisition-des-donnees" class="section level4">
<h4><span class="header-section-number">2.1.2.1</span> Acquisition des données</h4>
<p>Des données climatiques historiques (1970 – 2020) avec une résolution de 30 arcsecondes (environ 1 km<sup>2</sup> sur l’équateur) disponible à <a href="https://www.worldclim.org/data/worldclim21.html">WorldClim version 2</a> ont été utilisées.</p>
<p>Pour l’analyse, des <strong>variables climatiques mensuelles</strong> ont été utilisées :</p>
<ul>
<li><strong>prec</strong>: Précipitations pour les mois de janvier à décembre (mm)</li>
<li><strong>tmax</strong>: Température maximale pour les mois de janvier à décembre (ºC)</li>
<li><strong>tavg</strong>: Température moyenne pour les mois de janvier à décembre (ºC)</li>
<li><strong>tmin</strong>: Température minimale pour les mois de janvier à décembre (ºC)</li>
</ul>
<p>Et également les <strong>variables bioclimatiques</strong> qui en découlent :</p>
<ul>
<li><strong>BIO1</strong>: Température moyenne annuelle</li>
<li><strong>BIO2</strong>: Fourchette diurne moyenne (moyenne des températures mensuelles (max temp - min temp))</li>
<li><strong>BIO3</strong>: Isothermie (BIO2/BIO7) (×100)</li>
<li><strong>BIO4</strong>: Saisonnalité de la température (écart-type ×100)</li>
<li><strong>BIO5</strong>: Température maximale du mois le plus chaud</li>
<li><strong>BIO6</strong>: Température minimale du mois le plus froid</li>
<li><strong>BIO7</strong>: Gamme de température annuelle (BIO5-BIO6)</li>
<li><strong>BIO8</strong>: Température moyenne du trimestre le plus humide</li>
<li><strong>BIO9</strong>: Température moyenne du trimestre le plus sec</li>
<li><strong>BIO10</strong>: Température moyenne du trimestre le plus chaud</li>
<li><strong>BIO11</strong>: Température moyenne du trimestre le plus froid</li>
<li><strong>BIO12</strong>: Précipitation annuelle</li>
<li><strong>BIO13</strong>: Précipitation du mois le plus humide</li>
<li><strong>BIO14</strong>: Précipitation du mois le plus sec</li>
<li><strong>BIO15</strong>: Saisonalité de la précipitation (Coefficient de variation)</li>
<li><strong>BIO16</strong>: Précipitation du trimestre le plus humide</li>
<li><strong>BIO17</strong>: Précipitation du trimestre le plus sec</li>
<li><strong>BIO18</strong>: Précipitation du trimestre le plus chaud</li>
<li><strong>BIO19</strong>: Précipitation du trimestre le plus froid</li>
</ul>
</div>
<div id="pretraitement-des-donnees" class="section level4">
<h4><span class="header-section-number">2.1.2.2</span> Prétraitement des données</h4>
<p>Les données sont lues et reprojetées sur le raster des images Landsat (UTM 31, résolution de 30 mètres) et coupées à la taille.</p>
<div id="example-1" class="section level5 unnumbered">
<h5>Example</h5>
<p><img src="images/wc2.0_30s_bio_Togo-01.jpeg" width="25%" /><img src="images/wc2.0_30s_bio_Togo-04.jpeg" width="25%" /><img src="images/wc2.0_30s_bio_Togo-12.jpeg" width="25%" /><img src="images/wc2.0_30s_bio_Togo-15.jpeg" width="25%" />
<strong>Données bioclimatiques WorldClim version 2:</strong> température annuelle moyenne (BIO1) / saisonalité de la température (BIO4) / précipitation annuelle (BIO12) / saisonalité de la précipitation (BIO15)</p>
</div>
</div>
<div id="script-r-01_ssts01_data_srcprep-worldclim.r" class="section level4 unnumbered">
<h4>Script R: <code>01_SSTS/01_data/_src/prep-Worldclim.R</code></h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co">###############################################################################</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co"># prep-Worldclim.R: lire et reprojeter les données de WorldClim</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="co"># -----------------------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co"># Bern University of Applied Sciences</span></a>
<a class="sourceLine" id="cb8-5" data-line-number="5"><span class="co"># Oliver Gardi, &lt;oliver.gardi@bfh.ch&gt;</span></a>
<a class="sourceLine" id="cb8-6" data-line-number="6"><span class="co"># 13 Mai 2020</span></a>
<a class="sourceLine" id="cb8-7" data-line-number="7"></a>
<a class="sourceLine" id="cb8-8" data-line-number="8"><span class="co"># Définitions des variables ===================================================</span></a>
<a class="sourceLine" id="cb8-9" data-line-number="9"></a>
<a class="sourceLine" id="cb8-10" data-line-number="10">IN.DIR  &lt;-<span class="st"> </span><span class="kw">paste0</span>(DIR.RAW.DAT, <span class="st">&quot;/Worldclim&quot;</span>)</a>
<a class="sourceLine" id="cb8-11" data-line-number="11">OUT.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(DIR.SST.DAT, <span class="st">&quot;/Worldclim&quot;</span>)</a>
<a class="sourceLine" id="cb8-12" data-line-number="12"><span class="cf">if</span>(<span class="op">!</span><span class="kw">dir.exists</span>(OUT.DIR)) <span class="kw">dir.create</span>(OUT.DIR)</a>
<a class="sourceLine" id="cb8-13" data-line-number="13"></a>
<a class="sourceLine" id="cb8-14" data-line-number="14"></a>
<a class="sourceLine" id="cb8-15" data-line-number="15"><span class="co"># Reprojection images WorldClim vers Landsat (résolution 30m, UTM 31, ...) ====</span></a>
<a class="sourceLine" id="cb8-16" data-line-number="16"></a>
<a class="sourceLine" id="cb8-17" data-line-number="17"><span class="kw">foreach</span>(<span class="dt">file=</span><span class="kw">dir</span>(IN.DIR, <span class="dt">pattern=</span><span class="st">&quot;.*Togo[.]tif$&quot;</span>)) <span class="op">%dopar%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb8-18" data-line-number="18">  <span class="kw">system</span>(<span class="kw">paste</span>(<span class="st">&quot;gdalwarp&quot;</span>,</a>
<a class="sourceLine" id="cb8-19" data-line-number="19">               <span class="kw">paste0</span>(IN.DIR, <span class="st">&quot;/&quot;</span>, file),</a>
<a class="sourceLine" id="cb8-20" data-line-number="20">               <span class="st">&quot;-t_srs &#39;+proj=utm +zone=31 +datum=WGS84&#39;&quot;</span>,</a>
<a class="sourceLine" id="cb8-21" data-line-number="21">               <span class="st">&quot;-tr 30 30&quot;</span>,</a>
<a class="sourceLine" id="cb8-22" data-line-number="22">               <span class="kw">paste</span>(<span class="st">&quot;-te&quot;</span>, TGO.EXT<span class="op">@</span>xmin, TGO.EXT<span class="op">@</span>ymin, TGO.EXT<span class="op">@</span>xmax, TGO.EXT<span class="op">@</span>ymax),</a>
<a class="sourceLine" id="cb8-23" data-line-number="23">               <span class="kw">paste0</span>(OUT.DIR, <span class="st">&quot;/&quot;</span>, file),</a>
<a class="sourceLine" id="cb8-24" data-line-number="24">               <span class="st">&quot;-dstnodata -3.4e+38&quot;</span>,</a>
<a class="sourceLine" id="cb8-25" data-line-number="25">               <span class="st">&quot;-co COMPRESS=&#39;LZW&#39;&quot;</span>,</a>
<a class="sourceLine" id="cb8-26" data-line-number="26">               <span class="st">&quot;-co INTERLEAVE=&#39;BAND&#39;&quot;</span>,</a>
<a class="sourceLine" id="cb8-27" data-line-number="27">               <span class="st">&quot;-overwrite&quot;</span>))</a>
<a class="sourceLine" id="cb8-28" data-line-number="28">  </a>
<a class="sourceLine" id="cb8-29" data-line-number="29">  <span class="kw">system</span>(<span class="kw">paste</span>(<span class="st">&quot;gdalinfo -stats&quot;</span>,</a>
<a class="sourceLine" id="cb8-30" data-line-number="30">               <span class="kw">paste0</span>(OUT.DIR, <span class="st">&quot;/&quot;</span>, file)))</a>
<a class="sourceLine" id="cb8-31" data-line-number="31">}</a>
<a class="sourceLine" id="cb8-32" data-line-number="32"></a>
<a class="sourceLine" id="cb8-33" data-line-number="33"><span class="co"># Créer des vignettes pour les donées WorldClim ===============================</span></a>
<a class="sourceLine" id="cb8-34" data-line-number="34"></a>
<a class="sourceLine" id="cb8-35" data-line-number="35"><span class="kw">foreach</span>(<span class="dt">file=</span><span class="kw">dir</span>(OUT.DIR, <span class="dt">pattern=</span><span class="st">&quot;.*[.]tif$&quot;</span>)) <span class="op">%dopar%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb8-36" data-line-number="36">  image &lt;-<span class="st"> </span><span class="kw">stack</span>(<span class="kw">paste0</span>(OUT.DIR, <span class="st">&quot;/&quot;</span>, file))</a>
<a class="sourceLine" id="cb8-37" data-line-number="37">  type &lt;-<span class="st"> </span><span class="kw">unlist</span>(<span class="kw">strsplit</span>(file, <span class="st">&quot;_&quot;</span>))[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb8-38" data-line-number="38">  <span class="cf">if</span>      (type <span class="op">==</span><span class="st"> &quot;prec&quot;</span>) { zlim &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">320</span>);     col &lt;-<span class="st"> </span><span class="kw">rev</span>(<span class="kw">topo.colors</span>(<span class="dv">255</span>)) }</a>
<a class="sourceLine" id="cb8-39" data-line-number="39">  <span class="cf">else</span> <span class="cf">if</span> (type <span class="op">==</span><span class="st"> &quot;tmin&quot;</span>) { zlim &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">14.0</span>,<span class="fl">27.8</span>); col &lt;-<span class="st"> </span><span class="kw">rev</span>(<span class="kw">heat.colors</span>(<span class="dv">255</span>)) }</a>
<a class="sourceLine" id="cb8-40" data-line-number="40">  <span class="cf">else</span> <span class="cf">if</span> (type <span class="op">==</span><span class="st"> &quot;tmax&quot;</span>) { zlim &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">24.9</span>,<span class="fl">37.5</span>); col &lt;-<span class="st"> </span><span class="kw">rev</span>(<span class="kw">heat.colors</span>(<span class="dv">255</span>)) }</a>
<a class="sourceLine" id="cb8-41" data-line-number="41">  <span class="cf">else</span> <span class="cf">if</span> (type <span class="op">==</span><span class="st"> &quot;tavg&quot;</span>) { zlim &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">19.7</span>,<span class="fl">32.7</span>); col &lt;-<span class="st"> </span><span class="kw">rev</span>(<span class="kw">heat.colors</span>(<span class="dv">255</span>)) }</a>
<a class="sourceLine" id="cb8-42" data-line-number="42">  <span class="cf">else</span>                     { zlim &lt;-<span class="st"> </span><span class="ot">NA</span>;           col &lt;-<span class="st"> </span><span class="kw">rev</span>(<span class="kw">cm.colors</span>(<span class="dv">255</span>)) }</a>
<a class="sourceLine" id="cb8-43" data-line-number="43">  <span class="kw">foreach</span>(<span class="dt">i=</span><span class="dv">1</span><span class="op">:</span><span class="kw">nlayers</span>(image)) <span class="op">%dopar%</span><span class="st"> </span>{</a>
<a class="sourceLine" id="cb8-44" data-line-number="44">    <span class="kw">jpeg</span>(<span class="kw">paste0</span>(OUT.DIR, <span class="st">&quot;/&quot;</span>, <span class="kw">sub</span>(<span class="st">&quot;[.]tif$&quot;</span>, <span class="st">&quot;&quot;</span>, file), <span class="st">&quot;-&quot;</span>, <span class="kw">str_pad</span>(i, <span class="dv">2</span>, <span class="st">&quot;left&quot;</span>, <span class="dv">0</span>), <span class="st">&quot;.jpeg&quot;</span>), </a>
<a class="sourceLine" id="cb8-45" data-line-number="45">         <span class="dt">width=</span><span class="dv">1350</span>, <span class="dt">height=</span><span class="dv">3000</span>)</a>
<a class="sourceLine" id="cb8-46" data-line-number="46">    <span class="kw">plot</span>(image[[i]], <span class="dt">col=</span>col, <span class="dt">zlim=</span>zlim)</a>
<a class="sourceLine" id="cb8-47" data-line-number="47">    <span class="kw">plot</span>(<span class="kw">mask</span>(image[[i]], TGO, <span class="dt">inverse=</span><span class="ot">TRUE</span>), <span class="dt">col=</span><span class="st">&quot;#FFFFFF66&quot;</span>, <span class="dt">legend=</span><span class="ot">FALSE</span>, <span class="dt">add=</span><span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb8-48" data-line-number="48">    <span class="kw">plot</span>(TGO, <span class="dt">add=</span><span class="ot">TRUE</span>, <span class="dt">lwd=</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb8-49" data-line-number="49">    <span class="kw">dev.off</span>()</a>
<a class="sourceLine" id="cb8-50" data-line-number="50">  }</a>
<a class="sourceLine" id="cb8-51" data-line-number="51">}</a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="01_Landsat.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="03_SRTM.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
