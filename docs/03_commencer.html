<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1.2.2 Structure du répértoire | _main.utf8</title>
  <meta name="description" content="République Togolaise —<br />
Système Nationale de Surveillance des Forêts</div>" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="1.2.2 Structure du répértoire | _main.utf8" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ogardi.github.io/SNSF-Togo" />
  <meta property="og:image" content="https://ogardi.github.io/SNSF-Togoimages/NERF-Togo.png" />
  
  <meta name="github-repo" content="ogardi/NERF-Togo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1.2.2 Structure du répértoire | _main.utf8" />
  
  
  <meta name="twitter:image" content="https://ogardi.github.io/SNSF-Togoimages/NERF-Togo.png" />

<meta name="author" content="Oliver Gardi, Fifonsi Dangbo, Sophie Dzigbod, Ditorgue Bakabima" />


<meta name="date" content="2020-06-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="02_how-to.html"/>
<link rel="next" href="00_STSS.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://ogardi.github.io/SNSF-Togo"><b>Manuel SNSF Togo</b><br>NRF v1.1 ( <i>en révision</i> )</a></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Préface</a></li>
<li class="chapter" data-level="1" data-path="00_introduction.html"><a href="00_introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="01_arrangements.html"><a href="01_arrangements.html"><i class="fa fa-check"></i><b>1.1</b> Arrangements institutionelles</a></li>
<li class="chapter" data-level="1.2" data-path="02_how-to.html"><a href="02_how-to.html"><i class="fa fa-check"></i><b>1.2</b> Pour commencer</a><ul>
<li class="chapter" data-level="1.2.1" data-path="02_how-to.html"><a href="02_how-to.html#travailler-avec-le-snsf"><i class="fa fa-check"></i><b>1.2.1</b> Travailler avec le SNSF</a></li>
<li class="chapter" data-level="1.2.2" data-path="03_commencer.html"><a href="03_commencer.html"><i class="fa fa-check"></i><b>1.2.2</b> Structure du répértoire</a></li>
<li class="chapter" data-level="1.2.3" data-path="03_commencer.html"><a href="03_commencer.html#creation-dun-nouveau-projet"><i class="fa fa-check"></i><b>1.2.3</b> Création d’un nouveau projet</a></li>
<li class="chapter" data-level="1.2.4" data-path="03_commencer.html"><a href="03_commencer.html#NRF-set-up.R"><i class="fa fa-check"></i><b>1.2.4</b> Définition des variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="00_STSS.html"><a href="00_STSS.html"><i class="fa fa-check"></i><b>2</b> Système de Surveillance Terrestre</a><ul>
<li class="chapter" data-level="2.1" data-path="01_Landsat.html"><a href="01_Landsat.html"><i class="fa fa-check"></i><b>2.1</b> Données de base</a><ul>
<li class="chapter" data-level="2.1.1" data-path="01_Landsat.html"><a href="01_Landsat.html#SSTS-Landsat"><i class="fa fa-check"></i><b>2.1.1</b> Images Landsat</a></li>
<li class="chapter" data-level="2.1.2" data-path="02_Worldclim.html"><a href="02_Worldclim.html"><i class="fa fa-check"></i><b>2.1.2</b> WorldClim</a></li>
<li class="chapter" data-level="2.1.3" data-path="03_SRTM.html"><a href="03_SRTM.html"><i class="fa fa-check"></i><b>2.1.3</b> SRTM</a></li>
<li class="chapter" data-level="2.1.4" data-path="04_SoilGrids.html"><a href="04_SoilGrids.html"><i class="fa fa-check"></i><b>2.1.4</b> SoilGrids</a></li>
<li class="chapter" data-level="2.1.5" data-path="05_ProREDD.html"><a href="05_ProREDD.html"><i class="fa fa-check"></i><b>2.1.5</b> ProREDD</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="01_sampling-grid.html"><a href="01_sampling-grid.html"><i class="fa fa-check"></i><b>2.2</b> Collecte des données</a><ul>
<li class="chapter" data-level="2.2.1" data-path="01_sampling-grid.html"><a href="01_sampling-grid.html#reseau-dechantillonnage"><i class="fa fa-check"></i><b>2.2.1</b> Réseau d’échantillonnage</a></li>
<li class="chapter" data-level="2.2.2" data-path="02_training-plots.html"><a href="02_training-plots.html"><i class="fa fa-check"></i><b>2.2.2</b> Parcelles d’entraînement</a></li>
<li class="chapter" data-level="2.2.3" data-path="03_validation-plots.html"><a href="03_validation-plots.html"><i class="fa fa-check"></i><b>2.2.3</b> Parcelles de validation</a></li>
<li class="chapter" data-level="2.2.4" data-path="04_outil-QGIS.html"><a href="04_outil-QGIS.html"><i class="fa fa-check"></i><b>2.2.4</b> Outil QGIS</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="00_IFN.html"><a href="00_IFN.html"><i class="fa fa-check"></i><b>3</b> Inventaire Forestier National</a><ul>
<li class="chapter" data-level="3.1" data-path="01_IFN-1.html"><a href="01_IFN-1.html"><i class="fa fa-check"></i><b>3.1</b> IFN-1 (2015/16)</a><ul>
<li class="chapter" data-level="3.1.1" data-path="01_IFN-1.html"><a href="01_IFN-1.html#methode"><i class="fa fa-check"></i><b>3.1.1</b> <span>Méthode</span></a></li>
<li class="chapter" data-level="3.1.2" data-path="01_IFN-1.html"><a href="01_IFN-1.html#donnees"><i class="fa fa-check"></i><b>3.1.2</b> Données</a></li>
<li class="chapter" data-level="3.1.3" data-path="01_IFN-1.html"><a href="01_IFN-1.html#resultats"><i class="fa fa-check"></i><b>3.1.3</b> <span>Résultats</span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="00_NRF-MRV.html"><a href="00_NRF-MRV.html"><i class="fa fa-check"></i><b>4</b> Analyses NRF/MRV</a><ul>
<li class="chapter" data-level="4.1" data-path="00_analyse-FCC.html"><a href="00_analyse-FCC.html"><i class="fa fa-check"></i><b>4.1</b> Analyse surfaces forestiers</a><ul>
<li class="chapter" data-level="4.1.1" data-path="01_create-FC-maps.html"><a href="01_create-FC-maps.html"><i class="fa fa-check"></i><b>4.1.1</b> Production des cartes Forêt/Non-Forêt</a></li>
<li class="chapter" data-level="4.1.2" data-path="02_clean-FC-maps.html"><a href="02_clean-FC-maps.html"><i class="fa fa-check"></i><b>4.1.2</b> Nettoyage des cartes brutes</a></li>
<li class="chapter" data-level="4.1.3" data-path="03_validate-FC-maps.html"><a href="03_validate-FC-maps.html"><i class="fa fa-check"></i><b>4.1.3</b> Validation des cartes</a></li>
<li class="chapter" data-level="4.1.4" data-path="04_FC-maps-accuracy.html"><a href="04_FC-maps-accuracy.html"><i class="fa fa-check"></i><b>4.1.4</b> Analyse de la précision</a></li>
<li class="chapter" data-level="4.1.5" data-path="05_analyse-FC-maps.html"><a href="05_analyse-FC-maps.html"><i class="fa fa-check"></i><b>4.1.5</b> Analyse des cartes</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="00_analyse-AGB.html"><a href="00_analyse-AGB.html"><i class="fa fa-check"></i><b>4.2</b> Analyse biomasse aérienne</a><ul>
<li class="chapter" data-level="4.2.1" data-path="01_compile-IFN.html"><a href="01_compile-IFN.html"><i class="fa fa-check"></i><b>4.2.1</b> Analyse des données IFN</a></li>
<li class="chapter" data-level="4.2.2" data-path="02_create-AGB-maps.html"><a href="02_create-AGB-maps.html"><i class="fa fa-check"></i><b>4.2.2</b> Calibration et prédiction</a></li>
<li class="chapter" data-level="4.2.3" data-path="03_clean-AGB-maps.html"><a href="03_clean-AGB-maps.html"><i class="fa fa-check"></i><b>4.2.3</b> Nettoyage des cartes brutes</a></li>
<li class="chapter" data-level="4.2.4" data-path="04_analyze-AGB-maps.html"><a href="04_analyze-AGB-maps.html"><i class="fa fa-check"></i><b>4.2.4</b> Production des résultats</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/ogardi/SNSF-Togo">Dépôt du code sur GitHub</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><div class="line-block">République Togolaise —<br />
Système Nationale de Surveillance des Forêts</div></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="structure-du-repertoire" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Structure du répértoire</h3>
<p>Les outils R dépendent d’une certaine structure des fichiers. Le répértoire de base <code>SNSF_Togo</code> est structuré comme suivant:</p>
<pre><code>SNSF_Togo
=========
├── data                                # Données de base externes ####################
    ├── GADM                              # :: frontières administratives
    ├── Landsat                           # :: images satellitaires
    ├── SRTM                              # :: données topographiques
    └── Worldclim                         # :: données climatiques
    
└── SNSF_v1.0_20200106                  # Répértoire SNSF v1.0 ########################
    ├── .Rprofile                         #:: Script R de initialisation
    
    ├── 01_SSTS                           # SYSTÈME DE SURVEILLANCE TERRESTRE =========
        ├── 01_data                         #:: images et autres données pré-traités --
        └── 02_BdD                          #:: base de données SSTS ------------------
        
    ├── 02_IFN                            # INVENTAIRE FORESTIER NATIONAL =============
        └── 01_IFN-1                        #:: données d&#39;inventaire IFN-1 ------------
    
    ├── 03_NRF-MRV                        # NIVEAU DE REFERENCE / MRV  ================
        ├── 01_MCF                          #:: Modification Couvert Forestier --------
        ├── 02_AGB                          #:: cartographie biomasse -----------------
        └── 03_report                       #:: rapport NRF/MRV -----------------------
        
    ├── 04_Manuel                         # CETTE DOCUMENTATION DU SNSF =============
    └── docs                              #:: site web manuel de référence
    
    
└── SNSF_v1.x                           # Répértoire SNSF version actualisé ###########
    ├── ...
    └── ...
    </code></pre>
<!-- old structure
```
SNSF_Togo
=========
├── data                                # Données de base externes ####################
    ├── GADM                              # <- frontières administratives
    ├── Landsat                           # <- images satellitaires
    ├── SRTM                              # <- données topographiques
    └── Worldclim                         # <- données climatiques
    
└── SNSF_v1.0_20200106                  # Répértoire SNSF v1.0 ########################
    ├── .Rprofile                         # [R] initialisation
    
    ├── 01_SSTS                           # SYSTÈME DE SURVEILLANCE TERRESTRE =========
        ├── 01_data                         #:: images et autres données pré-traités --
            └── ...
            
        ├── 02_BdD                          #:: base de données SSTS ------------------
             ├── 01_reseau-SSTS               #:: réseau de parcelles SSTS
                 ├── _create-grid.R             # [R] création réseau SSTS    
                 └── ...
             ├── 02_train-plots               #:: parcelles d'entraînement 
                 ├── _create-train-plots.R      # [R] création parcelles d'entraînement                                
                 └── ...             
             └── 03_val-plots                 #:: parcelles de validation
                 ├── _create-val-plots.R        # [R] création parcelles de validation
                 └── ... 
        
    ├── 02_IFN                            # INVENTAIRE FORESTIER NATIONAL =============
        ├── 01_field-data                   # <- données d'inventaire -----------------
        └── ... 
    
    ├── 03_NRF-MRV                        # NIVEAU DE REFERENCE / MRV  ================
        └── 01_MCF                          #:: Modification Couvert Forestier --------
            ├── _01_get-train-points.R        # [R] création des point d'entraînement
            ├── _02_create-FC-maps.R          # [R] calibration des cartes
            ├── _03_clean-FC-maps.R           # [R] nettoyage des cartes
            ├── _04_get-val-points.R          # [R] création des points de validation
            ├── _05_validate-FC-maps.R        # [R] validation des cartes
            ├── _06_FC-maps-accuracy.R        # [R] analyse de la précision des cartes
            ├── _07_analyse-FC-maps.R         # [R] analyse des cartes 
            └── output                        #:: résultats / cartes
                ├── 01_ref-maps                 # => cartes référence
                ├── 02_raw-maps                 # => cartes brutes
                ├── 03_clean-maps               # => cartes nettoyées
                ├── 04_validation               # => résultats validation
                └── 05_results                  # => résultats surfaces
        
        ├── 02_AGB                          #:: cartographie biomasse -----------------
            ├── _1_compile-AGB.R              # [R] évaluer inventaire
            ├── _2_create-AGB-maps.R          # [R] calibration des cartes
            ├── _3_clean-AGB-maps.R           # [R] nettoyage des cartes
            ├── _4_analyze-AGB.R              # [R] analyse des cartes
            └── output                        #:: cartes biomasse
                ├── 01_ref-maps                 # => cartes de référence
                └── 02_results                  # => résultats biomasse
        
        └── report                          #:: rapport NRF/MRV -----------------------
        
    ├── 04_manual                         #:: cette documentation du SNSF =============
    └── docs                              #:: cette documentation en HTML
    
    
└── SNSF_v1.x                           # Répértoire SNSF version actualisé ###########
```
-->
<p>La structure du répertoire est définit dans le script R <a href="03_commencer.html#NRF-set-up.R">.Rprofile</a> et peut être ajousté.</p>
<p>C’est seulement les répétoires <code>src</code> et <code>manual</code> qui sont mis à diposition dans le dépôt <a href="https://github.com/ogardi/NERF-Togo">GitHub</a>. Les autres répétoires et données doivent être installés manuellement.</p>
</div>
<div id="creation-dun-nouveau-projet" class="section level3">
<h3><span class="header-section-number">1.2.3</span> Création d’un nouveau projet</h3>
<p>Pour la création d’un nouveau projet avec le code le plus actuel, on clone le dépôt du projet sur GitHub par la commande <code>git clone --single-branch https://github.com/ogardi/NERF-Togo.git NOM-REPERTOIRE</code>. L’installation d’une version spécifique peut être fait avec <code>git clone -b VERSION --single-branch https://github.com/ogardi/NERF-Togo.git NOM-REPERTOIRE</code>.</p>
<p>En travaillant avec RStudio, le plus facile est de créer directement un projet RStudio au départ due dépôt GitHub (<code>File &gt; New Project ... &gt; Version Control &gt; Git</code>) avec les mêmes paramètre que l’installation directe en haut.</p>
<p>Dans une prochaine étape, les données doivent être rendues disponibles, soit par une nouvelle acquisition, soit par une copie des répertoires existants.</p>
<ul>
<li>S’il n’est pas encore disponible, le répertoire <code>../data/</code> doit être créé et les données de base correspondantes doivent être fournies.</li>
<li>Dans le répertoire <code>./01_SSTS/02_BdD/</code>, le réseau d’échantillonnage ainsi que les données d’entraînement et de validation doivent être stockées.</li>
<li>En outre, les données d’inventaire doivent être stockées dans le répertoire <code>./02_IFN/</code>.</li>
</ul>
</div>
<div id="NRF-set-up.R" class="section level3">
<h3><span class="header-section-number">1.2.4</span> Définition des variables</h3>
<p>Le traitement des images ainsi que les différentes analyses se font via des R-Scripts. Les variables et les fonctions utilisées dans les différents scripts sont définit dans le fichier <code>.Rprofile</code>, qui est automatiquement chargé au démarrage de R. Si le processus de chargement a réussi, vous pouvez voir un message de bienvenue suivant sur la console R.</p>
<p>Si aucun message n’apparaît, assurez-vous que a) R est lancé dans le répertoire et b) qu’aucun message d’erreur ne se produit. Les messages d’erreur possibles sont des paquets manquants (les paquets correspondants doivent être installés en premier) ou le fait de ne pas trouver les limites administratives de GADM dans <code>../data/GADM</code> (doivent également être installés en premier).</p>
<p>Si nécessaire les variables sont ajustées et R est redémarré. Notamment les informations sur la période analysée <code>YEARS.ALL</code> et les années à prendre en compte pour les différentes évaluations <code>YEARS.JNT</code>, <code>YEARS.VAL</code> et <code>YEARS.REF</code>.</p>
<div id="script-r-.rprofile" class="section level4 unnumbered">
<h4>Script R: <code>.Rprofile</code></h4>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co">###############################################################################</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co"># .Rprofile: Préparer l&#39;environnement (libraries, variables)</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="co"># -----------------------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co"># Bern University of Applied Sciences</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co"># Oliver Gardi, &lt;oliver.gardi@bfh.ch&gt;</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co"># 13 Mai 2020</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co"># Charger libraries  ==========================================================</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="kw">library</span>(<span class="st">&quot;sp&quot;</span>)           <span class="co"># Classes et méthodes pour les données spatiales</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="kw">library</span>(<span class="st">&quot;rgdal&quot;</span>)        <span class="co"># Geospatial Data Abstraction Library</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="kw">library</span>(<span class="st">&quot;raster&quot;</span>)       <span class="co"># Analyse et modélisation des données géographiques</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="kw">library</span>(<span class="st">&quot;randomForest&quot;</span>) <span class="co"># Algorithme de classification et régression</span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="kw">library</span>(<span class="st">&quot;caret&quot;</span>)        <span class="co"># Outils pour classification et régression</span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="kw">library</span>(<span class="st">&quot;openxlsx&quot;</span>)     <span class="co"># Lire et écrire des fichiers Excel (xlsx)</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="kw">library</span>(<span class="st">&quot;dplyr&quot;</span>)        <span class="co"># Fonctions pour manipuler des données</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="kw">library</span>(<span class="st">&quot;tidyr&quot;</span>)        <span class="co"># Fonctions pour reorganiser des données</span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="kw">library</span>(<span class="st">&quot;ggplot2&quot;</span>)      <span class="co"># Production des figures</span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="kw">library</span>(<span class="st">&quot;RColorBrewer&quot;</span>) <span class="co"># palettes de couleurs</span></a>
<a class="sourceLine" id="cb3-20" data-line-number="20"><span class="kw">library</span>(<span class="st">&quot;foreach&quot;</span>)      <span class="co"># Faire des calcules en parallèle ...</span></a>
<a class="sourceLine" id="cb3-21" data-line-number="21"><span class="kw">library</span>(<span class="st">&quot;doParallel&quot;</span>)   <span class="co"># ... sur plusieurs processeurs</span></a>
<a class="sourceLine" id="cb3-22" data-line-number="22"><span class="kw">library</span>(<span class="st">&quot;knitr&quot;</span>)        <span class="co"># pour la documentation html</span></a>
<a class="sourceLine" id="cb3-23" data-line-number="23"></a>
<a class="sourceLine" id="cb3-24" data-line-number="24"></a>
<a class="sourceLine" id="cb3-25" data-line-number="25"><span class="co"># Créer un environnement caché  ===============================================</span></a>
<a class="sourceLine" id="cb3-26" data-line-number="26">.snsf =<span class="st"> </span><span class="kw">new.env</span>()</a>
<a class="sourceLine" id="cb3-27" data-line-number="27"></a>
<a class="sourceLine" id="cb3-28" data-line-number="28"><span class="co"># Années / Périodes -----------------------------</span></a>
<a class="sourceLine" id="cb3-29" data-line-number="29"></a>
<a class="sourceLine" id="cb3-30" data-line-number="30">.snsf<span class="op">$</span>YEARS.ALL &lt;-<span class="st">   </span><span class="dv">1985</span><span class="op">:</span><span class="dv">2019</span>                                  <span class="co"># - tous</span></a>
<a class="sourceLine" id="cb3-31" data-line-number="31">.snsf<span class="op">$</span>YEARS.JNT &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1987</span>, <span class="dv">2003</span>, <span class="dv">2005</span>, <span class="dv">2007</span>, <span class="dv">2015</span>, <span class="dv">2017</span>, <span class="dv">2018</span>)  <span class="co"># - conjointes</span></a>
<a class="sourceLine" id="cb3-32" data-line-number="32">.snsf<span class="op">$</span>YEARS.REF &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1987</span>, <span class="dv">2003</span>,             <span class="dv">2015</span>,       <span class="dv">2018</span>)  <span class="co"># - référence</span></a>
<a class="sourceLine" id="cb3-33" data-line-number="33">.snsf<span class="op">$</span>YEARS.NRF &lt;-<span class="st"> </span><span class="kw">c</span>(      <span class="dv">2003</span>,             <span class="dv">2015</span>,       <span class="dv">2018</span>)  <span class="co"># - NRF</span></a>
<a class="sourceLine" id="cb3-34" data-line-number="34"></a>
<a class="sourceLine" id="cb3-35" data-line-number="35"><span class="co"># Répertoires -----------------------------------</span></a>
<a class="sourceLine" id="cb3-36" data-line-number="36"></a>
<a class="sourceLine" id="cb3-37" data-line-number="37">.snsf<span class="op">$</span>DIR.RAW.DAT   &lt;-<span class="st"> &quot;../data&quot;</span></a>
<a class="sourceLine" id="cb3-38" data-line-number="38"></a>
<a class="sourceLine" id="cb3-39" data-line-number="39">.snsf<span class="op">$</span>DIR.SST       &lt;-<span class="st"> &quot;./01_SSTS&quot;</span></a>
<a class="sourceLine" id="cb3-40" data-line-number="40">.snsf<span class="op">$</span>DIR.SST.DAT   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.SST, <span class="st">&quot;/01_data&quot;</span>)</a>
<a class="sourceLine" id="cb3-41" data-line-number="41">.snsf<span class="op">$</span>DIR.SST.DAT.LST   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.SST.DAT, <span class="st">&quot;/Landsat&quot;</span>)</a>
<a class="sourceLine" id="cb3-42" data-line-number="42">.snsf<span class="op">$</span>DIR.SST.DAT.WC2   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.SST.DAT, <span class="st">&quot;/Worldclim&quot;</span>)</a>
<a class="sourceLine" id="cb3-43" data-line-number="43"></a>
<a class="sourceLine" id="cb3-44" data-line-number="44">.snsf<span class="op">$</span>DIR.SST.BDD   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.SST, <span class="st">&quot;/02_BdD&quot;</span>)</a>
<a class="sourceLine" id="cb3-45" data-line-number="45">.snsf<span class="op">$</span>DIR.SST.BDD.GRD   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.SST.BDD, <span class="st">&quot;/01_reseau-SSTS&quot;</span>)</a>
<a class="sourceLine" id="cb3-46" data-line-number="46">.snsf<span class="op">$</span>DIR.SST.BDD.TPS   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.SST.BDD, <span class="st">&quot;/02_train-plots&quot;</span>)</a>
<a class="sourceLine" id="cb3-47" data-line-number="47">.snsf<span class="op">$</span>DIR.SST.BDD.VPS   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.SST.BDD, <span class="st">&quot;/03_val-plots&quot;</span>)</a>
<a class="sourceLine" id="cb3-48" data-line-number="48"></a>
<a class="sourceLine" id="cb3-49" data-line-number="49">.snsf<span class="op">$</span>DIR.IFN       &lt;-<span class="st"> &quot;./02_IFN&quot;</span></a>
<a class="sourceLine" id="cb3-50" data-line-number="50">.snsf<span class="op">$</span>DIR.IFN.DAT   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.IFN, <span class="st">&quot;/01_field-data&quot;</span>)</a>
<a class="sourceLine" id="cb3-51" data-line-number="51"></a>
<a class="sourceLine" id="cb3-52" data-line-number="52">.snsf<span class="op">$</span>DIR.MRV       &lt;-<span class="st"> &quot;./03_NRF-MRV&quot;</span></a>
<a class="sourceLine" id="cb3-53" data-line-number="53">.snsf<span class="op">$</span>DIR.MRV.MCF   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.MRV, <span class="st">&quot;/01_MCF&quot;</span>)</a>
<a class="sourceLine" id="cb3-54" data-line-number="54">.snsf<span class="op">$</span>DIR.MRV.MCF.REF   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.MRV.MCF, <span class="st">&quot;/01_ref-maps&quot;</span>)</a>
<a class="sourceLine" id="cb3-55" data-line-number="55">.snsf<span class="op">$</span>DIR.MRV.MCF.RAW   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.MRV.MCF, <span class="st">&quot;/02_raw-maps&quot;</span>)</a>
<a class="sourceLine" id="cb3-56" data-line-number="56">.snsf<span class="op">$</span>DIR.MRV.MCF.CLN   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.MRV.MCF, <span class="st">&quot;/03_cln-maps&quot;</span>)</a>
<a class="sourceLine" id="cb3-57" data-line-number="57">.snsf<span class="op">$</span>DIR.MRV.MCF.VAL   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.MRV.MCF, <span class="st">&quot;/04_validation&quot;</span>)</a>
<a class="sourceLine" id="cb3-58" data-line-number="58"></a>
<a class="sourceLine" id="cb3-59" data-line-number="59">.snsf<span class="op">$</span>DIR.MRV.AGB   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.MRV, <span class="st">&quot;/02_AGB&quot;</span>)</a>
<a class="sourceLine" id="cb3-60" data-line-number="60">.snsf<span class="op">$</span>DIR.MRV.AGB.REF   &lt;-<span class="st"> </span><span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.MRV.AGB, <span class="st">&quot;/01_ref-maps&quot;</span>)</a>
<a class="sourceLine" id="cb3-61" data-line-number="61"></a>
<a class="sourceLine" id="cb3-62" data-line-number="62"><span class="co"># Système de référence des coordonnées ----------</span></a>
<a class="sourceLine" id="cb3-63" data-line-number="63"></a>
<a class="sourceLine" id="cb3-64" data-line-number="64">.snsf<span class="op">$</span>UTM<span class="fl">.30</span> &lt;-<span class="st"> </span><span class="kw">crs</span>(<span class="st">&quot;+proj=utm +zone=30 +datum=WGS84</span></a>
<a class="sourceLine" id="cb3-65" data-line-number="65"><span class="st">                     +units=m +no_defs +ellps=WGS84 +towgs84=0,0,0&quot;</span>)</a>
<a class="sourceLine" id="cb3-66" data-line-number="66"></a>
<a class="sourceLine" id="cb3-67" data-line-number="67">.snsf<span class="op">$</span>UTM<span class="fl">.31</span> &lt;-<span class="st"> </span><span class="kw">crs</span>(<span class="st">&quot;+proj=utm +zone=31 +datum=WGS84 </span></a>
<a class="sourceLine" id="cb3-68" data-line-number="68"><span class="st">                     +units=m +no_defs +ellps=WGS84 +towgs84=0,0,0&quot;</span>)</a>
<a class="sourceLine" id="cb3-69" data-line-number="69"></a>
<a class="sourceLine" id="cb3-70" data-line-number="70"><span class="co"># Domaine d&#39;intérêt  ----------------------------</span></a>
<a class="sourceLine" id="cb3-71" data-line-number="71"></a>
<a class="sourceLine" id="cb3-72" data-line-number="72">.snsf<span class="op">$</span>TGO     &lt;-<span class="st"> </span><span class="kw">spTransform</span>(</a>
<a class="sourceLine" id="cb3-73" data-line-number="73">                   <span class="kw">readOGR</span>(<span class="kw">paste0</span>(.snsf<span class="op">$</span>DIR.RAW.DAT, <span class="st">&quot;/GADM/gadm36_TGO_0.shp&quot;</span>)),</a>
<a class="sourceLine" id="cb3-74" data-line-number="74">                     .snsf<span class="op">$</span>UTM<span class="fl">.31</span></a>
<a class="sourceLine" id="cb3-75" data-line-number="75">                 )</a>
<a class="sourceLine" id="cb3-76" data-line-number="76"></a>
<a class="sourceLine" id="cb3-77" data-line-number="77">.snsf<span class="op">$</span>TGO.EXT &lt;-<span class="st"> </span><span class="kw">extent</span>(<span class="dv">151155</span>, <span class="dv">373005</span>, <span class="dv">670665</span>, <span class="dv">1238175</span>)  <span class="co"># xmin, xmax, ymin, ymax</span></a>
<a class="sourceLine" id="cb3-78" data-line-number="78"></a>
<a class="sourceLine" id="cb3-79" data-line-number="79"><span class="co"># Noms des couches de données -------------------</span></a>
<a class="sourceLine" id="cb3-80" data-line-number="80"></a>
<a class="sourceLine" id="cb3-81" data-line-number="81">.snsf<span class="op">$</span>SST.LSBANDS     &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;G&quot;</span>, <span class="st">&quot;R&quot;</span>, <span class="st">&quot;NIR&quot;</span>, <span class="st">&quot;SWIR1&quot;</span>, <span class="st">&quot;SWIR2&quot;</span>, </a>
<a class="sourceLine" id="cb3-82" data-line-number="82">                           <span class="st">&quot;evi&quot;</span>, <span class="st">&quot;msavi&quot;</span>, <span class="st">&quot;nbr&quot;</span>, <span class="st">&quot;nbr2&quot;</span>, <span class="st">&quot;ndmi&quot;</span>, <span class="st">&quot;ndvi&quot;</span>, <span class="st">&quot;savi&quot;</span>)</a>
<a class="sourceLine" id="cb3-83" data-line-number="83"></a>
<a class="sourceLine" id="cb3-84" data-line-number="84">.snsf<span class="op">$</span>SST.BIOCLIM     &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;BIO&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">19</span>)</a>
<a class="sourceLine" id="cb3-85" data-line-number="85"></a>
<a class="sourceLine" id="cb3-86" data-line-number="86"><span class="co"># Codes pour les classes ------------------------</span></a>
<a class="sourceLine" id="cb3-87" data-line-number="87"></a>
<a class="sourceLine" id="cb3-88" data-line-number="88">.snsf<span class="op">$</span>NONFOR &lt;-<span class="st"> </span><span class="dv">0</span>   <span class="co"># non-forêt</span></a>
<a class="sourceLine" id="cb3-89" data-line-number="89">.snsf<span class="op">$</span>PREGEN &lt;-<span class="st"> </span><span class="dv">1</span>   <span class="co"># régénération potentielle</span></a>
<a class="sourceLine" id="cb3-90" data-line-number="90">.snsf<span class="op">$</span>REGEN  &lt;-<span class="st"> </span><span class="dv">2</span>   <span class="co"># régénération</span></a>
<a class="sourceLine" id="cb3-91" data-line-number="91">.snsf<span class="op">$</span>FOREST &lt;-<span class="st"> </span><span class="dv">3</span>   <span class="co"># forêt / forêt initiale</span></a>
<a class="sourceLine" id="cb3-92" data-line-number="92"></a>
<a class="sourceLine" id="cb3-93" data-line-number="93"><span class="co"># Divers ----------------------------------------</span></a>
<a class="sourceLine" id="cb3-94" data-line-number="94"></a>
<a class="sourceLine" id="cb3-95" data-line-number="95"><span class="co"># Processeurs disponibles pour le calcul parallèle</span></a>
<a class="sourceLine" id="cb3-96" data-line-number="96">.snsf<span class="op">$</span>CORES &lt;-<span class="st"> </span><span class="kw">detectCores</span>()</a>
<a class="sourceLine" id="cb3-97" data-line-number="97"></a>
<a class="sourceLine" id="cb3-98" data-line-number="98"><span class="co"># Semence pour le générateur de nombres aléatoires</span></a>
<a class="sourceLine" id="cb3-99" data-line-number="99">.snsf<span class="op">$</span>RSEED &lt;-<span class="st"> </span><span class="dv">20191114</span></a>
<a class="sourceLine" id="cb3-100" data-line-number="100"></a>
<a class="sourceLine" id="cb3-101" data-line-number="101"><span class="co"># Attacher l&#39;environnement</span></a>
<a class="sourceLine" id="cb3-102" data-line-number="102"><span class="kw">attach</span>(.snsf)</a>
<a class="sourceLine" id="cb3-103" data-line-number="103"></a>
<a class="sourceLine" id="cb3-104" data-line-number="104"></a>
<a class="sourceLine" id="cb3-105" data-line-number="105"><span class="co"># Message de bienvenue  =======================================================</span></a>
<a class="sourceLine" id="cb3-106" data-line-number="106"></a>
<a class="sourceLine" id="cb3-107" data-line-number="107"><span class="kw">message</span>(<span class="st">&quot;</span></a>
<a class="sourceLine" id="cb3-108" data-line-number="108"><span class="st">=&gt; chargé librairies et variables définit en .Rprofile</span></a>
<a class="sourceLine" id="cb3-109" data-line-number="109"></a>
<a class="sourceLine" id="cb3-110" data-line-number="110"><span class="st">.oPYo. o    o .oPYo.  ooooo   ooooo                      </span></a>
<a class="sourceLine" id="cb3-111" data-line-number="111"><span class="st">8      8b   8 8       8         8                        </span></a>
<a class="sourceLine" id="cb3-112" data-line-number="112"><span class="st">`Yooo. 8`b  8 `Yooo. o8oo       8   .oPYo. .oPYo. .oPYo. </span></a>
<a class="sourceLine" id="cb3-113" data-line-number="113"><span class="st">    `8 8 `b 8     `8  8         8   8    8 8    8 8    8 </span></a>
<a class="sourceLine" id="cb3-114" data-line-number="114"><span class="st">     8 8  `b8      8  8         8   8    8 8    8 8    8 </span></a>
<a class="sourceLine" id="cb3-115" data-line-number="115"><span class="st">`YooP&#39; 8   `8 `YooP&#39;  8         8   `YooP&#39; `YooP8 `YooP&#39; </span></a>
<a class="sourceLine" id="cb3-116" data-line-number="116"><span class="st">:.....:..:::..:.....::..::::::::..:::.....::....8 :.....:</span></a>
<a class="sourceLine" id="cb3-117" data-line-number="117"><span class="st">:::::::::::::::::::::::::::::::::::::::::::::ooP&#39;.:::::::</span></a>
<a class="sourceLine" id="cb3-118" data-line-number="118"><span class="st">:::::::::::::::::::::::::::::::::::::::::::::...:::::::::</span></a>
<a class="sourceLine" id="cb3-119" data-line-number="119"><span class="ch">\n</span><span class="st">&quot;</span>,</a>
<a class="sourceLine" id="cb3-120" data-line-number="120"><span class="kw">date</span>(),</a>
<a class="sourceLine" id="cb3-121" data-line-number="121"><span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span></a>
<a class="sourceLine" id="cb3-122" data-line-number="122">)</a></code></pre></div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="02_how-to.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="00_STSS.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
