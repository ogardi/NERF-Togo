<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1.2 Organisation du travail | _main.utf8</title>
  <meta name="description" content="République Togolaise —<br />
Système Nationale de Surveillance des Forêts</div>" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="1.2 Organisation du travail | _main.utf8" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://ogardi.github.io/NERF-Togo" />
  <meta property="og:image" content="https://ogardi.github.io/NERF-Togoimages/NERF-Togo.png" />
  
  <meta name="github-repo" content="ogardi/NERF-Togo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1.2 Organisation du travail | _main.utf8" />
  
  
  <meta name="twitter:image" content="https://ogardi.github.io/NERF-Togoimages/NERF-Togo.png" />

<meta name="author" content="Oliver Gardi, Fifonsi Dangbo, Sophie Dzigbod, Ditorgue Bakabima" />


<meta name="date" content="2020-03-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="01_arrangements.html"/>
<link rel="next" href="00_STSS.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://github.com/ogardi/NERF-Togo"><b>SNSF Togo</b><br>v 1.0 / en développement</a></li>
<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Préface</a></li>
<li class="chapter" data-level="1" data-path="00_introduction.html"><a href="00_introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="01_arrangements.html"><a href="01_arrangements.html"><i class="fa fa-check"></i><b>1.1</b> Arrangements institutionelles</a></li>
<li class="chapter" data-level="1.2" data-path="02_organisation.html"><a href="02_organisation.html"><i class="fa fa-check"></i><b>1.2</b> Organisation du travail</a><ul>
<li class="chapter" data-level="1.2.1" data-path="02_organisation.html"><a href="02_organisation.html#logiciel-et-serveur"><i class="fa fa-check"></i><b>1.2.1</b> Logiciel et serveur</a></li>
<li class="chapter" data-level="1.2.2" data-path="02_organisation.html"><a href="02_organisation.html#structure-du-répértoire"><i class="fa fa-check"></i><b>1.2.2</b> Structure du répértoire</a></li>
<li class="chapter" data-level="1.2.3" data-path="02_organisation.html"><a href="02_organisation.html#création-dun-nouveau-projet"><i class="fa fa-check"></i><b>1.2.3</b> Création d’un nouveau projet</a></li>
<li class="chapter" data-level="1.2.4" data-path="02_organisation.html"><a href="02_organisation.html#NRF-set-up.R"><i class="fa fa-check"></i><b>1.2.4</b> Définition des variables</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="00_STSS.html"><a href="00_STSS.html"><i class="fa fa-check"></i><b>2</b> Système de Surveillance Terrestre</a><ul>
<li class="chapter" data-level="2.1" data-path="01_data.html"><a href="01_data.html"><i class="fa fa-check"></i><b>2.1</b> Images satellitaires</a><ul>
<li class="chapter" data-level="2.1.1" data-path="01_data.html"><a href="01_data.html#acquisition-des-images"><i class="fa fa-check"></i><b>2.1.1</b> Acquisition des images</a></li>
<li class="chapter" data-level="2.1.2" data-path="01_data.html"><a href="01_data.html#prétraitement-des-images"><i class="fa fa-check"></i><b>2.1.2</b> Prétraitement des images</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="02_sampling-plan.html"><a href="02_sampling-plan.html"><i class="fa fa-check"></i><b>2.2</b> Réseau d’échantillonnage</a></li>
<li class="chapter" data-level="2.3" data-path="02_sampling-plan.html"><a href="02_sampling-plan.html#attributs-enregistrés"><i class="fa fa-check"></i><b>2.3</b> Attributs enregistrés</a><ul>
<li class="chapter" data-level="2.3.1" data-path="02_sampling-plan.html"><a href="02_sampling-plan.html#SSTS-couverture-houppiers"><i class="fa fa-check"></i><b>2.3.1</b> Couverture des houppiers</a></li>
<li class="chapter" data-level="2.3.2" data-path="02_sampling-plan.html"><a href="02_sampling-plan.html#SSTS-occupation-terres"><i class="fa fa-check"></i><b>2.3.2</b> Occupation des terres</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="02_sampling-plan.html"><a href="02_sampling-plan.html#mise-en-oeuvre-du-ssts"><i class="fa fa-check"></i><b>2.4</b> Mise en oeuvre du SSTS</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="00_IFN.html"><a href="00_IFN.html"><i class="fa fa-check"></i><b>3</b> Inventaire Forestier National</a></li>
<li class="chapter" data-level="4" data-path="00_NERF-MRV.html"><a href="00_NERF-MRV.html"><i class="fa fa-check"></i><b>4</b> Analyses NRF/MRV</a><ul>
<li class="chapter" data-level="4.1" data-path="00_analyse-FCC.html"><a href="00_analyse-FCC.html"><i class="fa fa-check"></i><b>4.1</b> Analyse surfaces forestiers</a><ul>
<li class="chapter" data-level="4.1.1" data-path="01_create-train-points.html"><a href="01_create-train-points.html"><i class="fa fa-check"></i><b>4.1.1</b> Parcelles d’entraînement</a></li>
<li class="chapter" data-level="4.1.2" data-path="02_create-fc-maps.html"><a href="02_create-fc-maps.html"><i class="fa fa-check"></i><b>4.1.2</b> Calibration et classification</a></li>
<li class="chapter" data-level="4.1.3" data-path="03_clean-fc-maps.html"><a href="03_clean-fc-maps.html"><i class="fa fa-check"></i><b>4.1.3</b> Nettoyage des cartes brutes</a></li>
<li class="chapter" data-level="4.1.4" data-path="04_create-val-points.html"><a href="04_create-val-points.html"><i class="fa fa-check"></i><b>4.1.4</b> Parcelles de validation</a></li>
<li class="chapter" data-level="4.1.5" data-path="05_validate-fc-maps.html"><a href="05_validate-fc-maps.html"><i class="fa fa-check"></i><b>4.1.5</b> Validation des cartes</a></li>
<li class="chapter" data-level="4.1.6" data-path="06_fc-maps-accuracy.html"><a href="06_fc-maps-accuracy.html"><i class="fa fa-check"></i><b>4.1.6</b> Analyse de la précision</a></li>
<li class="chapter" data-level="4.1.7" data-path="07_analyse-fc-maps.html"><a href="07_analyse-fc-maps.html"><i class="fa fa-check"></i><b>4.1.7</b> Production des résultats</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="00_analyse-AGB.html"><a href="00_analyse-AGB.html"><i class="fa fa-check"></i><b>4.2</b> Analyse biomasse aérienne</a><ul>
<li class="chapter" data-level="4.2.1" data-path="01_compile-IFN.html"><a href="01_compile-IFN.html"><i class="fa fa-check"></i><b>4.2.1</b> Analyse des données IFN</a></li>
<li class="chapter" data-level="4.2.2" data-path="02_create-AGB-maps.html"><a href="02_create-AGB-maps.html"><i class="fa fa-check"></i><b>4.2.2</b> Calibration et prédiction</a></li>
<li class="chapter" data-level="4.2.3" data-path="03_clean-AGB-maps.html"><a href="03_clean-AGB-maps.html"><i class="fa fa-check"></i><b>4.2.3</b> Nettoyage des cartes brutes</a></li>
<li class="chapter" data-level="4.2.4" data-path="04_analyze-AGB.html"><a href="04_analyze-AGB.html"><i class="fa fa-check"></i><b>4.2.4</b> Production des résultats</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown">Fièrement publié avec bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><div class="line-block">République Togolaise —<br />
Système Nationale de Surveillance des Forêts</div></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="SNSF-organisation" class="section level2">
<h2><span class="header-section-number">1.2</span> Organisation du travail</h2>
<div id="logiciel-et-serveur" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Logiciel et serveur</h3>
<p>La cartographie des surfaces forestier et de la biomasse aérienne des arbres se fait avec le logiciel <a href="https://www.r-project.org">R</a>, dirigé à travers <a href="https://rstudio.com">RStudio</a>. Les scripts R sont mis à disposition dans un <a href="https://github.com/ogardi/NERF-Togo">dépot GitHub</a>. Les scripts dépendent des fois des outils GDAL disponible dans l’environnement, à installer pour les systèmes Linux avec <code>apt-get install python-gdal</code>.</p>
<p>Le traitement et l’analyse des images satellitaires demande des ressources intensives en terme de stockage de données (plusieurs TB) et capacité de calcul (plusieurs processeurs en parallèle). Les analyses pour le Niveau des emissions de référence pour les forêts du Togo (NERF 1.0) ont été éfféctués sur l’infrastructure informatique centrale de la BFH-HAFL (<a href="http://r.gro1.bfh.science" class="uri">http://r.gro1.bfh.science</a>, accès limité). Une fois la nouvelle infrastructure informatique puissante avec un serveur central au Ministère pour l’Environnement et Forêts (MERF) est installé et disponible, les travaux peuvent être éffectués là.</p>
</div>
<div id="structure-du-répértoire" class="section level3">
<h3><span class="header-section-number">1.2.2</span> Structure du répértoire</h3>
<p>Les outils R dépendent d’une certaine structure des fichiers. Le répértoire de base <code>SNSF_Togo</code> est structuré comme suivant:</p>
<pre><code>SNSF_Togo
=========
├── data                                # Données de base #############################
    ├── GADM                              # frontières administratives
    ├── Landsat                           # images satellitaires
    ├── SRTM                              # données topographiques
    └── Worldclim                         # données climatiques
    
└── SNSF_v1.0_20200106                  # Répértoire SNSF v1.0 ########################
    ├── _set-up.R                         # [R] initialisation
    
    ├── 01_SSTS                           # SYSTÈME DE SURVEILLANCE TERRESTRE =========
        ├── 01_data                         # images et autres données pré-traités ----
            ├── _prep-data.R                  # [R] prétraitement
            └── ...
        ├── 02_BdD                          # base de données SSTS --------------------
             ├── 01_reseau-SSTS               # réseau de parcelles SSTS
                 ├── _create-grid.R             # [R] création réseau SSTS    
                 └── ...
             ├── 02_train-plots               # parcelles d&#39;entraînement 
                 ├── _create-train-plots.R      # [R] création parcelles d&#39;entraînement                                
                 └── ...             
             └── 03_val-plots                 # parcelles de validation
                 ├── _create-val-plots.R        # [R] création parcelles de validation  
                 └── ... 
        
    ├── 02_IFN                            # INVENTAIRE FORESTIER NATIONAL =============
        ├── 01_field-data                   # données d&#39;inventaire --------------------
    
    ├── 03_NRF-MRV                        # NIVEAU DE REFERENCE / MRV  ================
        └── 01_MCF                          # Modification Couvert Forestier ----------
            ├── _01_get-train-points.R        # [R] création des point d&#39;entraînement
            ├── _02_create-FC-maps.R          # [R] calibration des cartes
            ├── _03_clean-FC-maps.R           # [R] nettoyage des cartes
            ├── _04_get-val-points.R          # [R] création des points de validation
            ├── _05_validate-FC-maps.R        # [R] validation des cartes
            ├── _06_FC-maps-accuracy.R        # [R] analyse de la précision des cartes
            ├── _07_analyse-FC-maps.R         # [R] analyse des cartes 
            └── output                        # résultats / cartes
                ├── 01_ref-maps                 # cartes référence
                ├── 02_raw-maps                 # cartes brutes
                ├── 03_clean-maps               # cartes nettoyées
                ├── 04_validation               # résultats validation
                └── 05_results                  # résultats surfaces
        
        ├── 02_AGB                          # cartographie biomasse -------------------
            ├── _1_compile-AGB.R              # [R] évaluer inventaire
            ├── _2_create-AGB-maps.R          # [R] calibration des cartes
            ├── _3_clean-AGB-maps.R           # [R] nettoyage des cartes
            ├── _4_analyze-AGB.R              # [R] analyse des cartes
            └── output                        # cartes biomasse
                ├── 01_ref-maps                 # cartes de référence
                └── 02_results                  # résultats biomasse
        
        └── report                          # rapport NRF/MRV -------------------------
        
    ├── 04_manual                         # cette documentation du SNSF ===============
    └── docs                              # cette documentation en HTML
    
    
└── SNSF_v1.x                           # Répértoire SNSF version actualisé ###########</code></pre>
<!-- old structure
```
NRF_Togo

├── data                                    # Données de base ########################
    ├── GADM                                  # frontières administratives
    ├── IFN                                   # inventaire forestier national
    ├── Landsat                               # images satellitaires
    ├── SRTM                                  # données topographiques
    └── Worldclim                             # données climatiques
    
└── NRF_v1.0                                # Répétoire projet NRF v1.0 #############
    ├── input                                 # données spécifiques du projet
        ├── 1_images                            # images pre-traités                              
        ├── 2_train-plots                       # données d'entraînement                       
        └── 3_val-plots                         # données de validation
    ├── src                                   # scripts R ----------------------------
        ├── 0_set-up.R                          # initialisation
        ├── 1_prepare-images.R                  # préparation des images  
        ├── AGB                                 # cartographie biomasse
            ├── 2_compile-IFN.R                   # évaluer inventaire
            ├── 3_create-AGB-maps.R               # calibration des cartes
            ├── 4_clean-AGB-maps.R                # nettoyage des cartes
            └── 5_analyze-AGB.R                   # analyse des cartes
        └── FCC                                 # cartographie surfaces forestiers
            ├── 2_create-train-points.R           # création des point d'entraînement
            ├── 3_create-fc-maps.R                # calibration des cartes
            ├── 4_clean-fc-maps.R                 # nettoyage des cartes
            ├── 5_create-val-points.R             # création des points de validation
            ├── 6_validate-fc-maps.R              # validation des cartes
            ├── 7_fc-maps-accuracy.R              # analyse de la précision des cartes
            └── 8_analyse-fc-maps.R               # analyse des cartes  
    ├── output                                # résultats / cartes -------------------
        ├── 1_forest-cover                      # cartes surfaces forestiers
            ├── 1_ref-maps                        # cartes référence
            ├── 2_raw-maps                        # cartes brutes
            ├── 3_clean-maps                      # cartes nettoyées
            ├── 4_validation                      # résultats validation
            └── 5_results                         # résultats surfaces
        └── 2_biomass                           # cartes biomasse
            ├── 1_ref-maps                        # cartes de référence
            └── 5_results                         # résultats biomasse
    ├── report                                # rapport des résultats ----------------
    └── manuel                                # cette documentation ------------------
    
└── NRF_v1.x                                # Un autre répétoire projet #########
```
-->
<p>La structure du répertoire est définit dans le script <a href="02_organisation.html#NRF-set-up.R">0_set-up.R</a> et peut être ajousté.</p>
<p>C’est seulement les répétoires <code>src</code> et <code>manual</code> qui sont mis à diposition dans le dépôt <a href="https://github.com/ogardi/NERF-Togo">GitHub</a>. Les autres répétoires et données doivent être installés manuellement.</p>
</div>
<div id="création-dun-nouveau-projet" class="section level3">
<h3><span class="header-section-number">1.2.3</span> Création d’un nouveau projet</h3>
<p>Pour la création d’un nouveau projet, le plus simple est de copier un projet existant, normalement le projet sur lequel on aimeriait continuer le travail. On peut faire ça à travers RStudio, SFTP ou directement sur le server par exemple <code>cp -r 2019_NERF_v1 2020_MNV_v0</code>. Après on efface les résultat de l’ancien projet <code>rm -r 2020_MNV_v0/output/*</code>. Les rapports on peut laisser, mais il faut les rédiger à la fin.</p>
</div>
<div id="NRF-set-up.R" class="section level3">
<h3><span class="header-section-number">1.2.4</span> Définition des variables</h3>
<div id="description" class="section level4 unnumbered">
<h4>Description</h4>
<p>Le traitement des images ce fait par executer les scripts R, un après l’autre. Tout d’abord on ouvre et execute le script <code>0_set-up.R</code> pour charger les librairies et définir des variables qu’on utilise également dans les autres scripts. On peut également éxécuter l’ensemble du script par la commande R <code>source(0_set-up.R)</code>.</p>
<p>Les noms des variables définies dans le script <code>0_set-up.R</code> sont écrits en majuscules. Ils sont stockés dans l’environnement R et sont disponibles pour tous les autres scripts après l’exécution du script.</p>
<p>Avant l’exécution du script, les variables sont ajustées si nécessaire, notamment les informations sur la période analysée <code>PERIOD</code> et les années à prendre en compte pour les différentes évaluations <code>JNT.YEARS</code>, <code>VAL.YEARS</code> et <code>REF.YEARS</code>.</p>
</div>
<div id="set-up.r" class="section level4 unnumbered">
<h4><em>0_set-up.R</em></h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co">################################################################</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co"># NERF_Togo/0_set-up.R: Loading libraries and defining functions</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="co"># --------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co"># Bern University of Applied Sciences</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co"># Oliver Gardi, &lt;oliver.gardi@bfh.ch&gt;</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co"># 13 November 2019</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="kw">Sys.setlocale</span>(<span class="st">&quot;LC_CTYPE&quot;</span>, <span class="st">&quot;de_CH.UTF-8&quot;</span>)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9"></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co"># set working directory</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="kw">setwd</span>(<span class="st">&quot;~/NERF_Togo/NERF_v1/R&quot;</span>)</a>
<a class="sourceLine" id="cb2-12" data-line-number="12"></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co"># Hidden environment for variables and functions </span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14">.env =<span class="st"> </span><span class="kw">new.env</span>()</a>
<a class="sourceLine" id="cb2-15" data-line-number="15"></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co"># Libraries  -----------------</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="kw">library</span>(<span class="st">&quot;sp&quot;</span>)           <span class="co"># Classes and methods for spatial data</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="kw">library</span>(<span class="st">&quot;rgdal&quot;</span>)        <span class="co"># Bindings for the Geospatial Data Abstraction Library</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="kw">library</span>(<span class="st">&quot;rgeos&quot;</span>)        <span class="co"># Interface to Geometry Engine - Open Source</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="kw">library</span>(<span class="st">&quot;raster&quot;</span>)       <span class="co"># Geographic Data Analysis and Modeling</span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="kw">library</span>(<span class="st">&quot;randomForest&quot;</span>) <span class="co"># Breiman and Cutler&#39;s random forests for classification and regression</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="kw">library</span>(<span class="st">&quot;RStoolbox&quot;</span>)    <span class="co"># for terrain correction (topCor)</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="kw">library</span>(<span class="st">&quot;caret&quot;</span>)        <span class="co"># for confusion matrix</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="kw">library</span>(<span class="st">&quot;openxlsx&quot;</span>)     <span class="co"># pour directement lire des fichiers excel (xlsx)</span></a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="kw">library</span>(<span class="st">&quot;dplyr&quot;</span>)        <span class="co"># pour cr??er des tableaux crois??s</span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="kw">library</span>(<span class="st">&quot;tidyr&quot;</span>)</a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="kw">library</span>(<span class="st">&quot;ggplot2&quot;</span>)</a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="kw">library</span>(<span class="st">&quot;foreach&quot;</span>)</a>
<a class="sourceLine" id="cb2-29" data-line-number="29"><span class="kw">library</span>(<span class="st">&quot;doParallel&quot;</span>)</a>
<a class="sourceLine" id="cb2-30" data-line-number="30"><span class="kw">library</span>(<span class="st">&quot;gdalUtils&quot;</span>)</a>
<a class="sourceLine" id="cb2-31" data-line-number="31"><span class="kw">library</span>(<span class="st">&quot;stringr&quot;</span>)</a>
<a class="sourceLine" id="cb2-32" data-line-number="32"><span class="kw">library</span>(<span class="st">&quot;maptools&quot;</span>)     <span class="co"># kmlPolygon</span></a>
<a class="sourceLine" id="cb2-33" data-line-number="33"></a>
<a class="sourceLine" id="cb2-34" data-line-number="34"></a>
<a class="sourceLine" id="cb2-35" data-line-number="35"><span class="co"># Years ----------------------------------</span></a>
<a class="sourceLine" id="cb2-36" data-line-number="36"><span class="co"># .env$YEARS       &lt;- c(1987, 1991, 2000, 2003, 2005, 2007, 2010, 2013, 2015, 2017, 2018)</span></a>
<a class="sourceLine" id="cb2-37" data-line-number="37"></a>
<a class="sourceLine" id="cb2-38" data-line-number="38">.env<span class="op">$</span>PERIOD      &lt;-<span class="st"> </span><span class="dv">1985</span><span class="op">:</span><span class="dv">2019</span></a>
<a class="sourceLine" id="cb2-39" data-line-number="39">.env<span class="op">$</span>JNT.YEARS   &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1987</span>,             <span class="dv">2003</span>, <span class="dv">2005</span>, <span class="dv">2007</span>,             <span class="dv">2015</span>, <span class="dv">2017</span>, <span class="dv">2018</span>)</a>
<a class="sourceLine" id="cb2-40" data-line-number="40">.env<span class="op">$</span>VAL.YEARS   &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1987</span>,             <span class="dv">2003</span>,                         <span class="dv">2015</span>,       <span class="dv">2018</span>)</a>
<a class="sourceLine" id="cb2-41" data-line-number="41">.env<span class="op">$</span>REF.YEARS   &lt;-<span class="st"> </span><span class="kw">c</span>(                  <span class="dv">2003</span>,                         <span class="dv">2015</span>,       <span class="dv">2018</span>)</a>
<a class="sourceLine" id="cb2-42" data-line-number="42"></a>
<a class="sourceLine" id="cb2-43" data-line-number="43"><span class="co"># Directories ----------------------------------</span></a>
<a class="sourceLine" id="cb2-44" data-line-number="44"></a>
<a class="sourceLine" id="cb2-45" data-line-number="45">.env<span class="op">$</span>DATA.DIR   &lt;-<span class="st"> &quot;../../data&quot;</span></a>
<a class="sourceLine" id="cb2-46" data-line-number="46"></a>
<a class="sourceLine" id="cb2-47" data-line-number="47">.env<span class="op">$</span>INPUT.DIR   &lt;-<span class="st"> &quot;../input&quot;</span></a>
<a class="sourceLine" id="cb2-48" data-line-number="48">.env<span class="op">$</span>IMAGES.DIR  &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>INPUT.DIR, <span class="st">&quot;/1_images&quot;</span>)</a>
<a class="sourceLine" id="cb2-49" data-line-number="49">.env<span class="op">$</span>TRNPTS.DIR  &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>INPUT.DIR, <span class="st">&quot;/2_train-plots&quot;</span>)</a>
<a class="sourceLine" id="cb2-50" data-line-number="50">.env<span class="op">$</span>VALPTS.DIR  &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>INPUT.DIR, <span class="st">&quot;/3_val-plots&quot;</span>)</a>
<a class="sourceLine" id="cb2-51" data-line-number="51">.env<span class="op">$</span>INVENT.DIR  &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>INPUT.DIR, <span class="st">&quot;/4_IFN&quot;</span>)</a>
<a class="sourceLine" id="cb2-52" data-line-number="52"></a>
<a class="sourceLine" id="cb2-53" data-line-number="53">.env<span class="op">$</span>OUTPUT.DIR  &lt;-<span class="st"> &quot;../output&quot;</span></a>
<a class="sourceLine" id="cb2-54" data-line-number="54">.env<span class="op">$</span>FCC.DIR     &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>OUTPUT.DIR, <span class="st">&quot;/1_forest-cover&quot;</span>)</a>
<a class="sourceLine" id="cb2-55" data-line-number="55">.env<span class="op">$</span>FCC.REF.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>FCC.DIR, <span class="st">&quot;/1_ref-maps&quot;</span>)</a>
<a class="sourceLine" id="cb2-56" data-line-number="56">.env<span class="op">$</span>FCC.RAW.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>FCC.DIR, <span class="st">&quot;/2_raw-maps&quot;</span>)</a>
<a class="sourceLine" id="cb2-57" data-line-number="57">.env<span class="op">$</span>FCC.CLN.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>FCC.DIR, <span class="st">&quot;/3_clean-maps&quot;</span>)</a>
<a class="sourceLine" id="cb2-58" data-line-number="58">.env<span class="op">$</span>FCC.VAL.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>FCC.DIR, <span class="st">&quot;/4_validation&quot;</span>)</a>
<a class="sourceLine" id="cb2-59" data-line-number="59">.env<span class="op">$</span>FCC.RES.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>FCC.DIR, <span class="st">&quot;/5_results&quot;</span>)</a>
<a class="sourceLine" id="cb2-60" data-line-number="60"></a>
<a class="sourceLine" id="cb2-61" data-line-number="61">.env<span class="op">$</span>AGB.DIR     &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>OUTPUT.DIR, <span class="st">&quot;/2_biomass&quot;</span>)</a>
<a class="sourceLine" id="cb2-62" data-line-number="62">.env<span class="op">$</span>AGB.REF.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>AGB.DIR, <span class="st">&quot;/1_ref-maps&quot;</span>)</a>
<a class="sourceLine" id="cb2-63" data-line-number="63">.env<span class="op">$</span>AGB.RAW.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>AGB.DIR, <span class="st">&quot;/2_raw-maps&quot;</span>)</a>
<a class="sourceLine" id="cb2-64" data-line-number="64">.env<span class="op">$</span>AGB.CLN.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>AGB.DIR, <span class="st">&quot;/3_clean-maps&quot;</span>)</a>
<a class="sourceLine" id="cb2-65" data-line-number="65">.env<span class="op">$</span>AGB.VAL.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>AGB.DIR, <span class="st">&quot;/4_validation&quot;</span>)</a>
<a class="sourceLine" id="cb2-66" data-line-number="66">.env<span class="op">$</span>AGB.RES.DIR &lt;-<span class="st"> </span><span class="kw">paste0</span>(.env<span class="op">$</span>AGB.DIR, <span class="st">&quot;/5_results&quot;</span>)</a>
<a class="sourceLine" id="cb2-67" data-line-number="67"></a>
<a class="sourceLine" id="cb2-68" data-line-number="68">.env<span class="op">$</span>BANDS       &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;G&quot;</span>, <span class="st">&quot;R&quot;</span>, <span class="st">&quot;NIR&quot;</span>, <span class="st">&quot;SWIR1&quot;</span>, <span class="st">&quot;SWIR2&quot;</span>, <span class="st">&quot;evi&quot;</span>, <span class="st">&quot;msavi&quot;</span>, <span class="st">&quot;nbr&quot;</span>, <span class="st">&quot;nbr2&quot;</span>, <span class="st">&quot;ndmi&quot;</span>, <span class="st">&quot;ndvi&quot;</span>, <span class="st">&quot;savi&quot;</span>)</a>
<a class="sourceLine" id="cb2-69" data-line-number="69">.env<span class="op">$</span>BIOCLIM     &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;BIO&quot;</span>, <span class="dv">1</span><span class="op">:</span><span class="dv">19</span>)</a>
<a class="sourceLine" id="cb2-70" data-line-number="70"></a>
<a class="sourceLine" id="cb2-71" data-line-number="71"><span class="co"># CRS, AOI, Extents -------------------</span></a>
<a class="sourceLine" id="cb2-72" data-line-number="72">.env<span class="op">$</span>utm<span class="fl">.30</span> &lt;-<span class="st"> </span><span class="kw">crs</span>(<span class="st">&quot;+proj=utm +zone=30 +datum=WGS84 +units=m +no_defs +ellps=WGS84 +towgs84=0,0,0&quot;</span>)</a>
<a class="sourceLine" id="cb2-73" data-line-number="73">.env<span class="op">$</span>utm<span class="fl">.31</span> &lt;-<span class="st"> </span><span class="kw">crs</span>(<span class="st">&quot;+proj=utm +zone=31 +datum=WGS84 +units=m +no_defs +ellps=WGS84 +towgs84=0,0,0&quot;</span>)</a>
<a class="sourceLine" id="cb2-74" data-line-number="74"></a>
<a class="sourceLine" id="cb2-75" data-line-number="75"><span class="co"># Boundary of Togo</span></a>
<a class="sourceLine" id="cb2-76" data-line-number="76">.env<span class="op">$</span>TGO     &lt;-<span class="st"> </span><span class="kw">spTransform</span>(<span class="kw">readOGR</span>(<span class="kw">paste0</span>(.env<span class="op">$</span>DATA.DIR, <span class="st">&quot;/GADM/gadm36_TGO_0.shp&quot;</span>)), .env<span class="op">$</span>utm<span class="fl">.31</span>)</a>
<a class="sourceLine" id="cb2-77" data-line-number="77">.env<span class="op">$</span>TGO.reg &lt;-<span class="st"> </span><span class="kw">spTransform</span>(<span class="kw">readOGR</span>(<span class="kw">paste0</span>(.env<span class="op">$</span>DATA.DIR, <span class="st">&quot;/GADM/gadm36_TGO_1.shp&quot;</span>)), .env<span class="op">$</span>utm<span class="fl">.31</span>)</a>
<a class="sourceLine" id="cb2-78" data-line-number="78">.env<span class="op">$</span>TGO.ext &lt;-<span class="st"> </span><span class="kw">extent</span>(<span class="dv">151155</span>, <span class="dv">373005</span>, <span class="dv">670665</span>, <span class="dv">1238175</span>)  <span class="co"># define extent by xmin, xmax, ymin and ymax</span></a>
<a class="sourceLine" id="cb2-79" data-line-number="79"></a>
<a class="sourceLine" id="cb2-80" data-line-number="80"><span class="co"># Cloud and water masks for Landsat 4-7 and Landsat 8   ------------------------</span></a>
<a class="sourceLine" id="cb2-81" data-line-number="81"><span class="co"># see Landsat 4-7 and Landsat 8 Surface Reflectance Product Guides</span></a>
<a class="sourceLine" id="cb2-82" data-line-number="82"></a>
<a class="sourceLine" id="cb2-83" data-line-number="83">.env<span class="op">$</span>qa.water &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb2-84" data-line-number="84">  <span class="dv">68</span>, <span class="dv">132</span>,                      <span class="co"># Landsat 4-7</span></a>
<a class="sourceLine" id="cb2-85" data-line-number="85">  <span class="dv">324</span>, <span class="dv">388</span>, <span class="dv">836</span>, <span class="dv">900</span>, <span class="dv">1348</span>      <span class="co"># Landsat 8</span></a>
<a class="sourceLine" id="cb2-86" data-line-number="86">)</a>
<a class="sourceLine" id="cb2-87" data-line-number="87"></a>
<a class="sourceLine" id="cb2-88" data-line-number="88">.env<span class="op">$</span>qa.shadow &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb2-89" data-line-number="89">  <span class="dv">72</span>, <span class="dv">136</span>,</a>
<a class="sourceLine" id="cb2-90" data-line-number="90">  <span class="dv">328</span>, <span class="dv">392</span>, <span class="dv">840</span>, <span class="dv">904</span>, <span class="dv">1350</span></a>
<a class="sourceLine" id="cb2-91" data-line-number="91">)</a>
<a class="sourceLine" id="cb2-92" data-line-number="92"></a>
<a class="sourceLine" id="cb2-93" data-line-number="93">.env<span class="op">$</span>qa.ice &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb2-94" data-line-number="94">  <span class="dv">80</span>, <span class="dv">112</span>, <span class="dv">144</span>, <span class="dv">176</span>,</a>
<a class="sourceLine" id="cb2-95" data-line-number="95">  <span class="dv">336</span>, <span class="dv">368</span>, <span class="dv">400</span>, <span class="dv">432</span>, <span class="dv">848</span>, <span class="dv">880</span>, <span class="dv">912</span>, <span class="dv">944</span>, <span class="dv">1352</span></a>
<a class="sourceLine" id="cb2-96" data-line-number="96">)</a>
<a class="sourceLine" id="cb2-97" data-line-number="97"></a>
<a class="sourceLine" id="cb2-98" data-line-number="98">.env<span class="op">$</span>qa.cloud &lt;-<span class="st"> </span><span class="kw">c</span>(</a>
<a class="sourceLine" id="cb2-99" data-line-number="99">  <span class="dv">96</span>, <span class="dv">112</span>, <span class="dv">160</span>, <span class="dv">176</span>, <span class="dv">224</span>,</a>
<a class="sourceLine" id="cb2-100" data-line-number="100">  <span class="dv">352</span>, <span class="dv">368</span>, <span class="dv">416</span>, <span class="dv">432</span>, <span class="dv">480</span>, <span class="dv">864</span>, <span class="dv">880</span>, <span class="dv">928</span>, <span class="dv">944</span>, <span class="dv">992</span></a>
<a class="sourceLine" id="cb2-101" data-line-number="101">)</a>
<a class="sourceLine" id="cb2-102" data-line-number="102"></a>
<a class="sourceLine" id="cb2-103" data-line-number="103"><span class="co"># Misc -------------------</span></a>
<a class="sourceLine" id="cb2-104" data-line-number="104"><span class="co"># prepare for parallel computing</span></a>
<a class="sourceLine" id="cb2-105" data-line-number="105">.env<span class="op">$</span>numCores &lt;-<span class="st"> </span><span class="kw">detectCores</span>()</a>
<a class="sourceLine" id="cb2-106" data-line-number="106"></a>
<a class="sourceLine" id="cb2-107" data-line-number="107"><span class="kw">attach</span>(.env)</a></code></pre></div>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="01_arrangements.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="00_STSS.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"search": true,
"info": true
});
});
</script>

</body>

</html>
